<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#303030">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico?v=7.4.0">
  <link rel="mask-icon" href="/website_logo.svg?v=7.4.0" color="#303030">
  <link rel="manifest" href="/manifest.json">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="Carpe Diem">
<meta property="og:type" content="website">
<meta property="og:title" content="Limbo-Nova">
<meta property="og:url" content="http://www.limbonova.com/page/4/index.html">
<meta property="og:site_name" content="Limbo-Nova">
<meta property="og:description" content="Carpe Diem">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Limbo-Nova">
<meta name="twitter:description" content="Carpe Diem">
  <link rel="alternate" href="/atom.xml" title="Limbo-Nova" type="application/atom+xml">
  <link rel="canonical" href="http://www.limbonova.com/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Limbo-Nova</title>
  <meta name="generator" content="Hexo 3.9.0">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-88266449-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-88266449-1');
    }
  </script>








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Limbo-Nova</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Seize the Day</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            
  <div id="posts" class="posts-expand">
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2012/07/flash-player-11-4-bytearray-compression/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2012/07/flash-player-11-4-bytearray-compression/" class="post-title-link" itemprop="url">Flash Player 11.4 ByteArray压缩算法初探</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2012-07-27 18:31:25" itemprop="dateCreated datePublished" datetime="2012-07-27T18:31:25+08:00">2012-07-27</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Flash Player 11.4 更新中，增加了ByteArray 对LZMA压缩算法的支持，压缩能力明显加强。</p>
<h2 id="byte-array">ByteArray</h2>
<p>“ByteArray 类提供用于优化读取、写入以及处理二进制数据的方法和属性。内存中的数据是一个压缩字节数组（数据类型的最紧凑表示形式），但可以使用标准 []（数组访问）运算符来操作 ByteArray 类的实例。也可以使用与 URLStream 和 Socket 类中的方法相类似的方法将它作为内存中的文件进行读取和写入。”</p>
<p>“此外，还支持 zlib 压缩和解压缩，以及 Action Message Format (AMF) 对象序列化。”</p>
<p>目前压缩/解压缩支持三种算法：CompressionAlgorithm. DEFLATE, CompressionAlgorithm. ZLIB, CompressionAlgorithm.LZMA(Flash Player 11.4)。</p>
<h2 id="ya-suo-suan-fa">压缩算法</h2>
<h3 id="deflate">DEFLATE</h3>
<p>DEFLATE是同时使用了<a href="http://zh.wikipedia.org/wiki/LZ77%E4%B8%8ELZ78" target="_blank" rel="noopener">LZ77</a> 算法与<a href="http://zh.wikipedia.org/wiki/%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81" target="_blank" rel="noopener">哈夫曼编码(Huffman Coding)</a> 的一个无损数据压缩算法。它最初是由Phil Katz为他的PKZIP归档工具第二版所定义的，后来定义在<a href="http://tools.ietf.org/html/rfc1951" target="_blank" rel="noopener">RFC 1951</a>规范中。</p>
<p>RFC：<a href="http://www.ietf.org/rfc/rfc1951.txt" target="_blank" rel="noopener">http://www.ietf.org/rfc/rfc1951.txt</a></p>
<p>哈夫曼编码压缩算法的细节，可以参看<a href="http://coolshell.cn/articles/7459.html" target="_blank" rel="noopener">这篇文章</a>。</p>
<h3 id="zlib">ZLIB</h3>
<p>deflate 压缩算法用于多种压缩格式，如 zlib、gzip、一些 zip 实现等。在使用这些压缩格式之一压缩数据时，除了存储原始数据的压缩版本之外，压缩格式数据（例如 .zip 文件）还包括元数据信息。举例来说，各种文件格式中包括的元数据的类型有文件名、文件修改日期/时间、原始文件大小、可选的注释、校验和数据等。</p>
<p>例如，在使用 zlib 算法压缩 ByteArray 时，将以特定的格式构建生成的 ByteArray。一些字节包含有关所压缩数据的元数据，而另一些字节包含原始 ByteArray 数据的实际压缩版本。根据 zlib 压缩数据格式规范的定义，这些字节（即包含原始数据的压缩版本的部分）使用 deflate 算法进行压缩。因此，这些字节与对原始 ByteArray 调用 compress( air. CompressionAlgorithm.DEFLATE) 所得的结果相同。但是，compress( air.CompressionAlgorithm.ZLIB) 生成的结果包括额外的元数据，而 compress(CompressionAlgorithm.DEFLATE) 生成的结果只包括原始 ByteArray 数据的压缩版本，没有任何其他内容。</p>
<p>若要使用 deflate 格式以 gzip 或 zip 等特定格式压缩 ByteArray 实例的数据，不能只调用 compress(CompressionAlgorithm.DEFLATE)。必须创建一个按照压缩格式规范构建的 ByteArray，包括相应的元数据以及使用 deflate 格式获取的压缩数据。同样，若要对以 gzip 或 zip 这样的格式压缩的数据进行解码，不能对该数据简单地调用 uncompress(CompressionAlgorithm.DEFLATE)。首先，必须将元数据与压缩数据分离，然后才能使用 deflate 格式对压缩数据进行解压缩。</p>
<p>RFC：<a href="http://www.ietf.org/rfc/rfc1950.txt" target="_blank" rel="noopener">http://www.ietf.org/rfc/rfc1950.txt</a></p>
<h3 id="lzma">LZMA</h3>
<p>LZMA（Lempel-Ziv-<a href="http://zh.wikipedia.org/wiki/%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E9%93%BE" target="_blank" rel="noopener">Markov chain</a> -Algorithm的缩写）是2001年以来得到发展的一个<a href="http://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%8E%8B%E7%BC%A9" target="_blank" rel="noopener">数据压缩</a> 算法，它用于7-Zip归档工具中的<a href="http://zh.wikipedia.org/wiki/7z" target="_blank" rel="noopener">7z</a> 格式。它使用类似于LZ77的字典编码机制，在一般的情况下压缩率比bzip2为高，用于压缩的字典档案大小可达4GB。</p>
<h2 id="dai-ma-shi-li">代码示例</h2>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">blackOps</span><span class="params">(isCompress:Boolean = true)</span>:void</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(!_fileRef || !_fileRef.data)</span><br><span class="line">		&#123;</span><br><span class="line">			Alert.show(<span class="string">"上传文件先!"</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span>(_bytes)</span><br><span class="line">			_bytes.clear();</span><br><span class="line">		_bytes = <span class="keyword">new</span> ByteArray();</span><br><span class="line">		_bytes.writeBytes(_fileRef.data);</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">var</span> algo:String;</span><br><span class="line">		<span class="keyword">switch</span>(cbxAlgo.selectedIndex)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">				algo = CompressionAlgorithm.DEFLATE;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">				algo = CompressionAlgorithm.ZLIB;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">				algo = CompressionAlgorithm.LZMA;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				Alert.show(<span class="string">"选择压缩算法先!"</span>);</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line"> </span><br><span class="line">		isCompress?_bytes.compress(algo):_bytes.uncompress(algo);</span><br><span class="line"> </span><br><span class="line">		log(<span class="string">"使用压缩算法："</span> + cbxAlgo.selectedItem.label);</span><br><span class="line">		log( (isCompress?<span class="string">""</span>:<span class="string">"解"</span>)+<span class="string">"压缩后字节数："</span>+_bytes.length);</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">var</span> fileRef:FileReference = <span class="keyword">new</span> FileReference();</span><br><span class="line">		fileRef.save(_bytes, (isCompress?<span class="string">"comp_"</span>:<span class="string">"unComp_"</span>) </span><br><span class="line">                   + algo + <span class="string">"_"</span> +_fileRef.name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">catch</span>(e:Error)</span><br><span class="line">	&#123;</span><br><span class="line">		Alert.show(e.message);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="demo">Demo</h2>
<p>Flash Player 11.4+ required</p>
<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="swfobj_0" width="410" height="280">
  <param name="movie" value="/images/FP11_4.swf">
  <!--[if !IE]>-->
  <object type="application/x-shockwave-flash" data="/images/FP11_4.swf" width="410" height="280">
  <!--<![endif]-->
  <!--[if !IE]>-->
  </object>
  <!--<![endif]-->
</object>
<p>Source: <a href="http://sdrv.ms/QGh9HC" target="_blank" rel="noopener">点击下载</a></p>
<h2 id="jie-lun">结论</h2>
<p>用210KB的电子书txt文件做了简单的测试，ZLIB和DEFLATE相差不大，约67KB，LZMA非常给力，压缩到了58KB。在文件中的存在大量重复数据情况下，LZMA相比另外2种更显优势。但是如解压缩数据时，如果没有采用相应的解压缩算法，ZLIB和DEFLATE解压时都会报“Error #2058: 解压缩数据时出错。”的错误，而LZMA解压不正确的数据时报 “Error #1000: 系统内存不足。”,让人有点意外 :-?。</p>
<p>这次主要使用ByteArray支持的三种压缩算法，并作了简单的比较。可能是因为LZMA比较新，压缩率超过前两种，而实际上ZLIB也是采用DEFLATE压缩算法，但是在压缩过程中加入了额外的元数据，形成了较为完备的数据格式。具体算法没有去深入研究，有点可惜和遗憾。</p>
<hr>
<p><strong>参考资料</strong></p>
<ol>
<li><a href="http://zh.wikipedia.org/wiki/DEFLATE" target="_blank" rel="noopener">http://zh.wikipedia.org/wiki/DEFLATE</a></li>
<li><a href="http://zh.wikipedia.org/wiki/Zlib" target="_blank" rel="noopener">http://zh.wikipedia.org/wiki/Zlib</a></li>
<li><a href="http://zh.wikipedia.org/wiki/LZMA" target="_blank" rel="noopener">http://zh.wikipedia.org/wiki/LZMA</a></li>
<li><a href="http://zh.wikipedia.org/wiki/%E9%9C%8D%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81" target="_blank" rel="noopener">http://zh.wikipedia.org/wiki/霍夫曼编码</a></li>
<li><a href="http://coolshell.cn/articles/7459.html" target="_blank" rel="noopener">http://coolshell.cn/articles/7459.html</a></li>
<li><a href="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/flash/utils/ByteArray.html" target="_blank" rel="noopener">http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/flash/utils/ByteArray.html</a></li>
<li><a href="http://www.ietf.org/rfc/rfc1950.txt" target="_blank" rel="noopener">http://www.ietf.org/rfc/rfc1950.txt</a></li>
<li><a href="http://www.ietf.org/rfc/rfc1951.txt" target="_blank" rel="noopener">http://www.ietf.org/rfc/rfc1951.txt</a></li>
</ol>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2012/07/flash-builder-plugins/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2012/07/flash-builder-plugins/" class="post-title-link" itemprop="url">Flash Builder 插件</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2012-07-23 20:32:21" itemprop="dateCreated datePublished" datetime="2012-07-23T20:32:21+08:00">2012-07-23</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Eclipse IDE的插件十分丰富，适当地使用可以使开发效率大大提高。而Flash Builder是基于Eclipse 开发的，因此或多或少可以使用一些Eclipse的插件。介绍几个开发中常用的几个插件。</p>
<h2 id="easy-explore">Easy Explore</h2>
<p>这个小插件可以调用Window资源管理器，浏览”包资源管理器”里的包和文件。省去开发者在资源管理器里一级一级地找文件。使用时，只要右键单击包或者文件，在弹出的菜单中选择”Easy Explore…”。</p>
<p>Y.Boy 把这个插件中文化并更换了图标，比原版更赏心悦目了 🙂 。</p>
<p><img src="http://riaoo.com/wp-content/uploads/2012/06/easyexplore.jpg" alt="easy explore"></p>
<p>下载链接：</p>
<ul>
<li>原版：<a href="http://sourceforge.net/projects/easystruts/files/Easy%20Explorer%20for%20Eclipse/easy-explore-1.0.4/" target="_blank" rel="noopener">http://sourceforge.net/projects/easystruts/files/Easy Explorer for Eclipse/easy-explore-1.0.4/</a></li>
<li>中文版(Y.Boy)：<a href="http://riaoo.com/wp-content/uploads/2012/06/easyexplore_1.0.4.zip" target="_blank" rel="noopener">http://riaoo.com/wp-content/uploads/2012/06/easyexplore_1.0.4.zip</a></li>
</ul>
<h2 id="todo-fixme-ren-wu-cha-jian">TODO/FIXME 任务插件</h2>
<p>Eclipse本来支持TODO/FIXME注释标记的，但是Flash Builder却不支持.as的TODO/FIXME标记。注释//TODO or //FIXME ，即可在任务视图(Task View)中显示任务。</p>
<p>打开任务视图：Flash Builder Menu: Window -&gt; Show View -&gt; Other-&gt;Basic–&gt;Tasks（任务）。<br>
<img src="https://public.bay.livefilestore.com/y1p_8XUsluDOfrZSUTcmbR8tt7igd0EjRHAYM6Xd0Jl3Tk8ptAh30MkvxIozrwMsIeLChAN_4N2N9zRG8Sk5MVPBQ/todo.png" alt="task plugins"></p>
<p>下载链接：</p>
<ul>
<li><a href="http://www.richinternet.de/blog/download/flexbuilderTask_1.0.0.zip" target="_blank" rel="noopener">http://www.richinternet.de/blog/download/flexbuilderTask_1.0.0.zip</a></li>
</ul>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2012/07/flash-builder-plugins/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2012/07/native-mouse-cursors-in-flash/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2012/07/native-mouse-cursors-in-flash/" class="post-title-link" itemprop="url">Flash中使用原生鼠标指针</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2012-07-11 17:06:52" itemprop="dateCreated datePublished" datetime="2012-07-11T17:06:52+08:00">2012-07-11</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Flash 10.2 版本有很多值得注意的新功能，StageVideo，多屏幕支持，原生鼠标指针等等。其中原生鼠标指针是一个非常引人注目的新特性。可以直接通过操作系统指针机制实现基于位图的原生鼠标指针，此方式比使用显示对象来显示自定义指针图像更有效。</p>
<p><img src="/images/native_mouse_cursor_in_flash.png" alt="image"></p>
<h2 id="li-jie-yuan-sheng-wei-tu-zhi-zhen">理解原生位图指针</h2>
<p>自Flash Player 5开始，一直使用 InteractiveObject.startDrag 和 Mouse.hide 来自定义光标外形。但是之前的这种实现有以下几个限制：</p>
<ul>
<li>显示对象实现的光标受限于舞台的维度。当用户把光标在舞台边界处，自定义光标会显示不完全。</li>
<li>显示对象光标在Flash Player 渲染时非常消耗资源，因为整个舞台必须在很高的帧数下重新渲染。updateAfterEvent 方法的使用会导致高CPU占用。</li>
<li>如果SWF因为某些原因停顿了几毫秒，光标动画也会停顿，用户会误认为程序不响应了。</li>
<li>总体上看，相比原生光标，显示对象实现的光标比较迟缓，不够流畅，用户体验不好。</li>
</ul>
<h2 id="shi-xian-yuan-sheng-shu-biao-guang-biao">实现原生鼠标光标</h2>
<p>实现原生鼠标光标只需要 MouseCursorData 类的几个属性，非常简洁高效。</p>
<p>flash.ui.MouseCursorData 的三个属性：</p>
<ul>
<li>data：BitmapData 对象的 Vector 包含光标图像或图像。可提供多个图像，并将 frameRate 属性设置为使光标具有动画效果。但是位图大小有限制，最大光标大小为 32×32 像素。</li>
<li>frameRate：使光标具有动画效果的帧速率，在 data 属性中提供多个图像并将帧速率设置为大于 0 的值，以便为指针添加动画效果。光标帧速率可能不同于当前的 SWF 帧速率，就是说调整帧率后光标动画帧率不会变化。</li>
<li>hotSpot：以像素表示的光标热点，热点是指在光标上注册鼠标单击所在的点。默认情况下位于左上角 (0,0)。</li>
</ul>
<h2 id="dai-ma-shi-li">代码示例</h2>
<p>动态光标和静态光标的实现方式差不多，只需要在data中存入多个位图并设置frameRate。代码如下：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">createFakeCursor</span><span class="params">()</span>:void</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.fakeCursor = <span class="keyword">new</span> Shape();</span><br><span class="line">	<span class="keyword">var</span> bmp:BitmapData = <span class="keyword">this</span>.generateCursorBmp(<span class="number">8</span>);</span><br><span class="line">	fakeCursor.graphics.beginBitmapFill(bmp);</span><br><span class="line">	fakeCursor.graphics.drawRect(<span class="number">0</span>,<span class="number">0</span>,bmp.width,bmp.height);</span><br><span class="line">	fakeCursor.graphics.endFill();</span><br><span class="line">	fakeCursor.visible = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">this</span>.addChild(fakeCursor);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">createStaticNativeCursor</span><span class="params">()</span>:void</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> cursorData:MouseCursorData = <span class="keyword">new</span> MouseCursorData();</span><br><span class="line">	cursorData.hotSpot = <span class="keyword">new</span> Point(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">var</span> bitmapDatas:Vector. = <span class="keyword">new</span> Vector.();</span><br><span class="line"> </span><br><span class="line">	<span class="comment">//static</span></span><br><span class="line">	bitmapDatas.push( <span class="keyword">this</span>.generateCursorBmp(<span class="number">8</span>) );</span><br><span class="line">	<span class="comment">// we assign the bitmap to the MouseCursor object</span></span><br><span class="line">	cursorData.data = bitmapDatas;</span><br><span class="line">	<span class="comment">// we register the MouseCursorData to the Mouse</span></span><br><span class="line">	Mouse.registerCursor(MY_STATIC_CURSOR, cursorData);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">createAnimatedNativeCursor</span><span class="params">()</span>:void</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> cursorData:MouseCursorData = <span class="keyword">new</span> MouseCursorData();</span><br><span class="line">	cursorData.hotSpot = <span class="keyword">new</span> Point(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">var</span> bitmapDatas:Vector. = <span class="keyword">new</span> Vector.();</span><br><span class="line">	<span class="comment">//animated</span></span><br><span class="line">	bitmapDatas.push( <span class="keyword">this</span>.generateCursorBmp(<span class="number">5</span>) );</span><br><span class="line">	bitmapDatas.push( <span class="keyword">this</span>.generateCursorBmp(<span class="number">7</span>) );</span><br><span class="line">	bitmapDatas.push( <span class="keyword">this</span>.generateCursorBmp(<span class="number">8</span>) );</span><br><span class="line">	bitmapDatas.push( <span class="keyword">this</span>.generateCursorBmp(<span class="number">9</span>) );</span><br><span class="line">	bitmapDatas.push( <span class="keyword">this</span>.generateCursorBmp(<span class="number">10</span>) );</span><br><span class="line"> </span><br><span class="line">	<span class="comment">// we assign the bitmap to the MouseCursor object</span></span><br><span class="line">	cursorData.data = bitmapDatas;</span><br><span class="line">	<span class="comment">// we register the MouseCursorData to the Mouse</span></span><br><span class="line">	Mouse.registerCursor(MY_ANIMATED_CURSOR, cursorData);</span><br><span class="line">	<span class="comment">// we just pas a frame rate</span></span><br><span class="line">	cursorData.frameRate = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//设置光标:只须赋值注册的光标名称即可</span></span><br><span class="line"><span class="comment">//set a cursor </span></span><br><span class="line"><span class="comment">//Mouse.cursor = MY_STATIC_CURSOR;</span></span><br></pre></td></tr></table></figure>
<h3 id="demo">Demo</h3>
<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="swfobj_0" width="580" height="380" align="center">
  <param name="movie" value="/images/NativeMouseCursorTest.swf">
  <param name="align" value="center">
  <!--[if !IE]>-->
  <object type="application/x-shockwave-flash" data="/images/NativeMouseCursorTest.swf" width="580" height="380" align="center">
  <!--<![endif]-->
  <!--[if !IE]>-->
  </object>
  <!--<![endif]-->
</object>
<p><strong>说明：</strong></p>
<ul>
<li>Static 和 Animated 都采用基于位图的原生光标。Static是静态的，Animated是一个5帧的动态光标，Oldfashioned 是利用显示对象实现的光标，System为系统光标。</li>
<li>在选择Oldfashioned光标，然后点击ComboBox的时候，明显可以看到层次不对的问题。类似的情况还发生在TextInput以及相似的组件上，而且鼠标指针离开舞台时，光标不能隐藏。使用原生光标这类问题统统没有。</li>
<li>为方便得到不同大小光标，位图是用代码生成的。</li>
<li>左键按住画图，右键清屏。右键菜单屏蔽是利用11.3 里 MouseEvent.RIGHT_CLICK 实现的，纯属娱乐。</li>
</ul>
<p>总体上看，原生光标完全超越传统的“冒牌”光标，无论是在性能和代码编写，以及用户体验上，都是让人满意的。</p>
<p><strong>Source:</strong><br>
<a href="http://sdrv.ms/LQbKwA" target="_blank" rel="noopener">点击下载</a></p>
<hr>
<p><strong>参考资料</strong></p>
<ol>
<li><a href="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/flash/ui/MouseCursorData.html" target="_blank" rel="noopener">http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/flash/ui/MouseCursorData.html</a></li>
<li><a href="http://www.adobe.com/devnet/flashplayer/articles/native-mouse-cursors.html" target="_blank" rel="noopener">http://www.adobe.com/devnet/flashplayer/articles/native-mouse-cursors.html</a></li>
<li><a href="http://www.bytearray.org/?p=2373" target="_blank" rel="noopener">http://www.bytearray.org/?p=2373</a></li>
<li><a href="http://www.cnblogs.com/ddw1997/archive/2011/04/11/2013061.html" target="_blank" rel="noopener">http://www.cnblogs.com/ddw1997/archive/2011/04/11/2013061.html</a></li>
</ol>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2012/07/apache-flex-4-8-0-news-trial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2012/07/apache-flex-4-8-0-news-trial/" class="post-title-link" itemprop="url">Apache Flex 4.8.0 近况及试用</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2012-07-09 19:51:11" itemprop="dateCreated datePublished" datetime="2012-07-09T19:51:11+08:00">2012-07-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>自从Apache接手Flex已经过去了半年。虽然已经有一年没有开发Flex应用，但是一直关注着对于这个框架的未来和发展。To be or not to be, that’s the question.</p>
<p><img src="https://flex.apache.org/images/logo_01_fullcolor-sm.png" alt="flex_logo"></p>
<h2 id="apache-flex-zui-xin-jin-zhan-2012-7">Apache Flex 最新进展（2012/7）</h2>
<h3 id="apache-flex-gong-zuo">Apache Flex 工作</h3>
<ul>
<li>Apache Flex 团队目前正在测试一个Apache Flex 4.8.0的发行候选版本。Apache Flex 4.8.0 是Adobe Flex 4.6.0的等同版本。当前的主要工作是保证在新的Apache license下，能够继续使用Flex框架所有的特性；下个阶段会进行bug修复，新功能和新组件的实现工作。如果想自行build可以Check out 这个<a href="http://svn.apache.org/viewvc/incubator/flex/trunk/README?view=co" target="_blank" rel="noopener">说明文档</a>。</li>
<li>商标问题已经大量清除。</li>
<li>JIRA已经导入了Adobe bug tracker 所有问题。</li>
<li>问题附件涵盖直到2012年1月30日之前的SDK，DMV和Automation bug。</li>
<li>Mustella 测试框架已经捐献并做了一些测试。</li>
<li>对于那些想自己编译编译器，框架等代码的人，基于ANT的编译脚本已经重新设计并且非常易于使用。Check out 上面那个README文档和相关的env.properties 模板文件获取入门信息。</li>
</ul>
<h3 id="she-qu-gong-zuo">社区工作</h3>
<ul>
<li>一群热心的贡献者们正努力让Flex 更易于下载和编译，以便其能够在IDE中使用(包括 Flash Builder 和 ItelliJ)。他们制作了一个AIR/Flex应用来帮你下载所有必要组件，并放置在相应的目录。 <a href="https://github.com/bigosmallm/MakeApacheFlexForFlashBuilder" target="_blank" rel="noopener">点这里查看</a>。</li>
<li>FlexUnit 正在捐献给Apache 的过程中。</li>
<li>关于Apache Flex 历史和发展，Justin Mclean 做了一个<a href="https://docs.google.com/presentation/pub?id=1SsVcr2SLkBJMXk1N6U3-HpxloSUUa4pBX-2f4GrRL5M" target="_blank" rel="noopener">非常精彩的演讲</a>。</li>
<li>360|Flex (现在叫 360|Stack) 宣布<a href="http://www.360stack.com/blog/2012/06/announcing-360min/" target="_blank" rel="noopener">360|MIN</a>，活动将于10月22-23日在拉斯维加斯举办。Adobe 2012 MAX大会将在同一周举办。360|MIN 是一个barcamp式的聚会活动，届时将会有许多Apache Flex 的贡献者在现场。</li>
</ul>
<p>欲悉更多，请订阅 flex-dev 邮件列表！</p>
<h2 id="apache-flex-4-8-0-an-zhuang-shi-yong">Apache Flex 4.8.0 安装使用</h2>
<p>声明里也一直提到过，这个版本的Flex不会有太多变化，可以认为和Adobe Flex 4.6.0是等同的，主要的区别在于Apache Flex不再支持缓存RSL(Runtime Shared Libraries)。</p>
<p>可以从下面的地址取得 Apache Flex 4.8.0 最新的RC版本：</p>
<p><a href="http://people.apache.org/~cframpton/ApacheFlexRC/current/" target="_blank" rel="noopener">http://people.apache.org/~cframpton/ApacheFlexRC/current/</a></p>
<p>导入Flash Builder，有三种方式：</p>
<ul>
<li>
<p>脚本导入<br>
修改目录 ide/flashbuilder/ 中的 bat/sh 脚本中的相关路径，运行时将自动下载设置sdk。</p>
</li>
<li>
<p>工具导入<br>
安装这个工具：<a href="https://github.com/bigosmallm/MakeApacheFlexForFlashBuilder" target="_blank" rel="noopener">https://github.com/bigosmallm/MakeApacheFlexForFlashBuilder</a></p>
</li>
<li>
<p>手动导入</p>
<ul>
<li>下载包，解压至flash builder的sdk目录；</li>
<li>Copy playerglobal.swc 到 frameworkslibsplayer11.1中；</li>
<li>下载 <a href="http://airdownload.adobe.com/air/win/download/3.1/AdobeAIRSDK.zip" target="_blank" rel="noopener">http://airdownload.adobe.com/air/win/download/3.1/AdobeAIRSDK.zip</a> 解压至目录4.8.0；</li>
<li>将 &quot;/ide/flashbuilder/config&quot;内的3个xml配置文件，复制覆盖至 “/frameworks” 中；</li>
</ul>
<p>配置完成之后，在Flash Builder 首选项里设置SDK即可。开发流程和Flex 4.6一样。</p>
</li>
</ul>
<h2 id="guan-yu-flash-catalyst-he-flash-builder">关于 Flash Catalyst 和 Flash Builder</h2>
<p>由于Flex被捐献给Apache，随之而来的Adobe各产品定位调整在所难免。在Flex 4.0发布的时候，由于将布局从组件本身分离出来，更灵活自然，同时也催生了一个所谓的交互设计工具——”Flash Catalyst”。工作流中也出现了一个交互设计师的位置，然而实际上到底有多少团队采纳了这个流程，我不知道，因为我一个也没见到。</p>
<p>在去年的Flex Summit上，Adobe宣布停止 Flash Catalyst的开发，并会在将来的版本移除 Flash Builder 中的”设计”视图(Design View)、以数据为中心的开发(DCD – Data Centric Development)。</p>
<p>总结<br>
都是半年前的旧闻了，有感于Apache Flex 4.8.0的即将发布，整理了一下自己对Flex易主始末的想法。HTML5推广如火如荼，关于Flash 和 HTML5的争论也日趋激烈。Adobe 认为 Flex 是目前企业和以数据为中心的应用开发的最佳解决方案，推动Flex 成为社区驱动的开源项目可以确保其将来几年的持续发展和成功。在这种新的模式下，社区负责Flex SDK 的维护和开发，而Adobe则继续开发工具和运行时。</p>
<p>但是从长远来看，HTML5将是企业应用开发的最佳技术，但目前来看为时过早，Flex 仍是构建企业应用的首选方案，尤其在那些和桌面应用profiles（配置?）相关的大规模客户端项目，优势更为明显。</p>
<p>Flex里面有很多非常好的设计，而且开源，深入代码可以学到不少东西。</p>
<hr>
<p>参考资料</p>
<ol>
<li><a href="http://incubator.apache.org/flex/" target="_blank" rel="noopener">http://incubator.apache.org/flex/</a></li>
<li><a href="http://www.adobe.com/devnet/flex/whitepapers/roadmap.html" target="_blank" rel="noopener">http://www.adobe.com/devnet/flex/whitepapers/roadmap.html</a></li>
<li><a href="http://blogs.adobe.com/flex/2011/11/your-questions-about-flex.html" target="_blank" rel="noopener">http://blogs.adobe.com/flex/2011/11/your-questions-about-flex.html</a></li>
<li><a href="http://www.pilihou.com/archives/439" target="_blank" rel="noopener">http://www.pilihou.com/archives/439</a></li>
<li><a href="http://forums.adobe.com/thread/940017" target="_blank" rel="noopener">http://forums.adobe.com/thread/940017</a></li>
<li><a href="http://forums.adobe.com/message/4085187" target="_blank" rel="noopener">http://forums.adobe.com/message/4085187</a></li>
<li><a href="http://blogs.adobe.com/aharui/" target="_blank" rel="noopener">http://blogs.adobe.com/aharui/</a></li>
<li><a href="http://www.spoon.as/2012/apache-revue-june-2012/" target="_blank" rel="noopener">http://www.spoon.as/2012/apache-revue-june-2012/</a></li>
</ol>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2011/08/flex-4-fun-reading-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2011/08/flex-4-fun-reading-notes/" class="post-title-link" itemprop="url">Flex 4 Fun Reading Notes</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2011-08-01 20:51:36" itemprop="dateCreated datePublished" datetime="2011-08-01T20:51:36+08:00">2011-08-01</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>You are about to embark on a great journey with the best possible companions:the solid Flash engine, the versatile Flex framework and a very good &gt; teacher.You will seldom enjoy a programming book as much as you will this one.</p>
<p>Romain Guy</p>
</blockquote>
<p><img src="http://booksites.artima.com/images/flex4funCover197x256.gif" alt="Flex4Fun Cover"></p>
<h2 id="about-the-book">About the Book</h2>
<p>从N神的 <a href="http://RIABook.cn" target="_blank" rel="noopener">RIABook.cn</a> 找到的一本介绍Flex 4 开发的书，还不到300页。重点发掘 Flex 4 SDK 的绘图和动画功能，详细地介绍了 Flex 4 的这些新特性，并提供了很多例子。所以很适合像我这样从Flex 3 起步的开发者。恰当的绘图和动画能带来更好的用户体验，而这也是Flex 4 中很酷很有趣的地方，书名正由此而来(Flex For Fun)。</p>
<h2 id="about-the-author">About the Author</h2>
<p>Chet Haase ：此牛人现已跳槽，现在Google Android SDK Team 研究图形动画。曾是 Adobe Flex SDK Team 的资深计算机科学家 (senior computer scientist)，负责 Flex effects 和 Flex 4 中新效果的架构。在此之前，他在 Sun Java client team 工作了几年，合著了一本关于使用Java 客户端平台开发丰富用户体验应用的书 Filthy Rich Clients 。<br>
个人博客：<a href="http://chetchat.blogspot.com" target="_blank" rel="noopener">http://chetchat.blogspot.com</a></p>
<p><strong>后记</strong><br>
2016-08-18<br>
当时看到这本书一半时，我还尝试着翻译了第一章的内容，然而因个人事务一再耽误进度。没想到半年之后，Web技术日新月异，当年颇有前景的Flex被Adobe贡献给开源社区，Flash却随着网页游戏的兴起而愈加火热，也终因网页游戏的衰落而日薄西山。短短数年间，变化何其大哉！</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2011/07/flex3-tfs-reading-summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2011/07/flex3-tfs-reading-summary/" class="post-title-link" itemprop="url">《Flex3权威指南》阅读总结</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2011-07-25 12:31:00" itemprop="dateCreated datePublished" datetime="2011-07-25T12:31:00+08:00">2011-07-25</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这本书比较全面地介绍了Flex 3 SDK的各项组件和功能。这是一个基于web前端技术的框架。作者从Flex组件开始讲解，以flexGrocer为实践项目，将每课教授的内容切实地运用到项目中。</p>
<p>主要内容有：</p>
<ul>
<li>组件：flex组件分类及如何自定义组件；</li>
<li>事件：如何监听事件，捕获事件，以及如何自定义事件，如何发布事件。事件是如何冒泡的？</li>
<li>外观：如何自定义控件的外观，使用skin或者css的方法；</li>
<li>拖拽功能：如何使用拖放代理，如何自定义，拖放时对象的赋值等等；</li>
<li>深度链接和历史管理：可以使用浏览器的前进后退功能；</li>
<li>打印功能：FlexPrintJob，PrintDataGrid，功能比较弱；</li>
<li>格式器，验证器：formatter，validator，非常有用！</li>
<li>后台联系紧密的RemoteObject，还有几种远程交互的方式：httpService，SOAP,blazeDS,LCDS…</li>
<li>AIR：使用AIR开发桌面应用；</li>
</ul>
<p>最后介绍了非常重要的Flash Player 的GC策略，以及如何防止内存泄漏。如何使用Flash Builder 的profiling功能对应用进行memory profiling, performance profiling。</p>
<p>全书通过一个flexGrocer项目，让读者逐步在实践中学习flex的各项特性和功能，但不足的是，操作步骤充斥全书，很少讲解系统的架构，原理，以及操作的理由。与其叫“权威指南”，不如称之为“使用指南”，该书的英文原名则十分贴切——“training from the source”。</p>
<p>由于方方面面都介绍到了，因此十分适合想对flex 作进一步了解的开发者。没有ActionScript语法解释，没有架构设计讲解，是一大遗憾，不过这本书的定位就这样了，看来要看别的书籍来填补了。</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2011/07/flex3-tfs-notes-04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2011/07/flex3-tfs-notes-04/" class="post-title-link" itemprop="url">《Flex3权威指南》学习笔记 04</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2011-07-18 22:23:56" itemprop="dateCreated datePublished" datetime="2011-07-18T22:23:56+08:00">2011-07-18</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="lesson-21-bu-shu-flex-ying-yong-cheng-xu">Lesson 21：部署Flex应用程序</h2>
<ul>
<li>AIR: Adobe Integrated Runtime</li>
<li>AIR 特点：
<ul>
<li>直接访问文件系统；</li>
<li>可以从操作系统拖拽文件到AIR应用中；</li>
<li>使用窗口API，可实现自定义应用外观；</li>
<li>提供API部署不完全连接Internet的应用；</li>
<li>脱离浏览器，可设置快捷键(hotkey);</li>
<li>提供嵌入式数据库，具有更强更完备的客户端数据存储能力。</li>
</ul>
</li>
</ul>
<h2 id="lesson-22-chuang-jian-guo-du-he-xing-wei">Lesson 22：创建过渡和行为</h2>
<ul>
<li>行为和效果：
<ul>
<li>淡入淡出</li>
<li>向内溶解，向外溶解</li>
<li>移动或重新调整组件</li>
<li>旋转组件</li>
<li>缩放</li>
<li>从左、右、上、下显示</li>
<li>光亮，光圈</li>
<li>音效等等</li>
</ul>
</li>
</ul>
<h2 id="lesson-23-flex-de-da-yin-gong-neng">Lesson 23：Flex的打印功能</h2>
<ul>
<li>Flex提供的打印功能比较简单，可以满足基本的应用，但是复杂一点的就有些吃不消。不知道SDK4.0+有没有改善，我自己暂时还没有使用过SDK4.0+的打印功能。</li>
<li>FlexPrintJob：打印对象( 容器，组件等)</li>
<li>PrintDataGrid：适用于打印的DataGrid，就是针对打印做过优化的，利于显示和具备更好的打印效果。</li>
<li>FlexPrintJob流程：
<ul>
<li>new FlexPrintJob()</li>
<li>start()</li>
<li>addObject()</li>
<li>send()</li>
<li>清理工作</li>
</ul>
</li>
<li>FlexPrintJobScaleType : 打印缩放比例，提供几种打印内容与纸张之间的比例关系；
<ul>
<li>MATCH_WIDTH   适合宽度，缩放对象以填充可用页面宽度。</li>
<li>MATCH_HEIGHT  适合高度，缩放对象以填充可用页面高度。</li>
<li>SHOW_ALL      显示全部，缩放对象以适合在单个页面中填充一个尺寸；也就是说，选择 MATCH_WIDTH 或 MATCH_HEIGHT 缩放类型中较小的值。</li>
<li>FILL_PAGE     填充页面，将对象缩放到至少一整页那么大；也就是说，选择较大的 MATCH_WIDTH 或 MATCH_HEIGHT 缩放类型。</li>
<li>NONE          不设置，不要缩放输出。</li>
</ul>
</li>
</ul>
<h2 id="lesson-24-shi-yong-gong-xiang-dui-xiang">Lesson 24 ：使用共享对象</h2>
<ul>
<li>使用SharedObject类保存特定的用户信息，看了下在线文档，写的很清楚而且详细。“SharedObject * 类用于在用户计算机或服务器上读取和存储有限的数据量。使用共享对象，可在永久贮存在本地计算机或远程服务器上的多个客户端 SWF 文件和对象之间实现实时数据共享。本地共享对象类似于浏览器 Cookie，远程共享对象类似于实时数据传输设备。为了使用远程共享对象，您需要 Adobe Flash Media Server。”</li>
<li>使用SharedObject可以执行以下操作：
<ul>
<li>保持本地永久性；</li>
<li>在Flash Media Server 上存储并共享数据；</li>
<li>实时共享数据。（这个功能总是被演示一次又一次…）</li>
</ul>
</li>
<li>ShardObject 特性：
<ul>
<li>保存在客户端上</li>
<li>扩展名为 .sol</li>
<li>默认大小 100KB</li>
<li>可以包含复杂的数据结构</li>
<li>不可以包含方法或者函数</li>
</ul>
</li>
<li>例子：<br>
	var soMy:SharedObject = SharedObject.getLocal(“myCookie”);<br>
	//保存为 myCookie.sol 的共享对象<br>
	//路径在 ~/Application Data/MacroMedia/FlashPlayer/#SharedOject/…<br>
	soMy.data.user = “Jeff”;<br>
	soMy.data.aUser = new Array();<br>
	soMy.data.bUser = employees as Array;<br>
	soMy.flush(500); //设置SharedObject文件大小</li>
</ul>
<h2 id="lesson-25-diao-shi-flex-ying-yong-cheng-xu">Lesson 25 ：调试Flex应用程序</h2>
<ul>
<li>使用 Flex Builder/Flash Builder 调试，由于这个IDE就是基于Eclipse开发而来的，调试的操作没什么区别，和VisualStudio也很像，断点，单步调试，变量监视等等。</li>
<li>trace() 函数用于跟踪，打印调试信息；</li>
<li>try – catch 语法和java一样，没啥好说的。try – catch – finally , throw 这些。</li>
<li>自定义错误类</li>
</ul>
<h2 id="lesson-26-dui-flex-ying-yong-cheng-xu-jin-xing-pou-xi">Lesson 26：对Flex应用程序进行剖析</h2>
<p>这章很重要，如果想写好的程序，必须要了解这些。</p>
<ul>
<li>Flash Player 内存使用：通常想OS申请的空间会比所需要的要大，这样可以避免多次请求，同时也监视不再使用的内存，运行GC；</li>
<li>参数传递的方式：
<ul>
<li>值传递：Boolean，int，Number，String，uint 这些基元数据类型；</li>
<li>按引用传递：对象；</li>
</ul>
</li>
<li>垃圾收集策略(GC)</li>
<li>GC 并不是发生在内存不再使用的时刻，而是发生在应用请求更多的内存时；</li>
<li>GC 检测机制
<ul>
<li>引用计数：创建对象的引用时，计数器递增，删除引用则递减。为0时，成为GC的候选；</li>
<li>标记-清除：FlashPlayer从应用顶层开始，标记每一个被引用的对象，持续向下深入。没有被标记的对象将成为GC的候选。</li>
</ul>
</li>
<li>如何防止内存泄漏</li>
<li>理解事件监听函数导致的泄漏：广播事件的每个对象都维护着对监听该事件的每个对象的引用。使用addEventListener(),需使用removeEventListener。就像C++中new出来再delete掉一样。</li>
<li>在监听函数中使用弱引用：addEventListener()的第5个参数指定为true；//weak reference</li>
<li>使用Flash Builder Profile功能：
<ul>
<li>Memory profiling</li>
<li>Performance profiling</li>
</ul>
</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2011/07/flex3-tfs-notes-03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2011/07/flex3-tfs-notes-03/" class="post-title-link" itemprop="url">《Flex3权威指南》学习笔记 03</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2011-07-06 22:40:49" itemprop="dateCreated datePublished" datetime="2011-07-06T22:40:49+08:00">2011-07-06</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="lesson-16-zi-ding-yi-flex-ying-yong-cheng-xu-de-wai-guan">Lesson 16：自定义Flex应用程序的外观</h2>
<ul>
<li>
<p>样式和皮肤；</p>
</li>
<li>
<p>使用标签属性设置样式：如 color，disabledColor，fontSize，fontStyle，fontWeight，fontFamily … ;<br>
也可使用 ActionScript 设置：mybButton.setStyle(“color”,”#00FF00”);</p>
</li>
<li>
<p>样式继承： ASDoc中，每个样式有个 “CSS继承”(CSS Inheritance) 的属性。表示该样式是否可以从其父容器出继承；</p>
</li>
<li>
<p>&lt;mx:Style&gt; 设置样式约定：</p>
<ul>
<li>样式名小写，单词之间使用连字符隔开：background-color: #FFFFFF;</li>
<li>也可使用大小写混合的方式： backgroundColor: #00FF00;</li>
</ul>
</li>
<li>
<p>类选择符：将一组样式属性定义为一个样式类。<br>
	.CustomCombo {<br>
		color: #00FF00;<br>
		selectedColor: #EA800C;<br>
	}<br>
组件可使用 styleName 调用：</p>
<pre><code>&lt;mx:ComboBox styleName=”customCombo”/&gt;
</code></pre>
</li>
<li>
<p>类型选择符<br>
	ComboBox {<br>
		color: #FF0000;<br>
		selectedColor: #EA800C;<br>
	}<br>
这样设置，将影响所有叫 “ComboBox”类的样式；</p>
</li>
<li>
<p>使用 Flash Builder 编写 CSS，只要打开CSS文件编辑即可；</p>
</li>
<li>
<p>使用CSS文件设置样式，将文件编译到应用程序中，就必须重新编译应用程序；</p>
<ul>
<li>运行时修改CSS：无须重新编译和部署应用程序。</li>
<li>可以从CSS文件创建SWF；</li>
</ul>
</li>
<li>
<p>用 StyleManager加载 CSS的SWF<br>
	StyleManager.loadStyleDeclaration(“flexGrocer.swf”); //加载<br>
	StyleManager.unloadStyleDeclaration(“flexGrocer.swf”);//卸载</p>
</li>
<li>
<p>多个样式的加载规则：若某个样式在多个样式表中定义，那么程序将使用最后被加载的样式；</p>
</li>
<li>
<p>皮肤组件：图形皮肤</p>
<ul>
<li>MXML标签中设置：<br>
&lt;mx:button upskin=&quot;@Embed(’/assets/up.jpg’)&quot; /&gt;</li>
<li>在CSS块(或文件)中设置皮肤：<br>
Button {<br>
	overSkin: Embed(&quot;/assets/over_skin.gif&quot;);<br>
}</li>
<li>使用ActionScript 设置皮肤：<br>
	[Embed(&quot;/assets/down.gif&quot;)] var ds:Class;<br>
	private function initApp():void<br>
	{<br>
		myButton.setStyle(“downSkin”,ds);<br>
	}</li>
</ul>
</li>
<li>
<p>导入皮肤：可通过Flash Builder导入在 Adobe CS5中创建的皮肤；</p>
</li>
<li>
<p>皮肤组件：可编程的皮肤：使用 Flash Player 的API绘制皮肤，可以获得更多的控制力和更好的灵活性。<br>
皮肤类：</p>
<ul>
<li>ProgrammaticSkin：轻量级的皮肤基类；</li>
<li>Border：添加对 BorderMetrics 边框支持；</li>
<li>RectBorder： 添加对backgroundImage支持；</li>
</ul>
</li>
<li>
<p>主要工作：重写 updateDisplayList();</p>
</li>
<li>
<p>重写 updateDisplayList 的主要步骤：</p>
<ol>
<li>创建皮肤类，选择合适基类继承；</li>
<li>override updateDisplayList():
<ul>
<li>样式处理</li>
<li>graphics.clear() ; //清楚之前绘制的元素</li>
<li>graphics.beginFill(); // 设置背景色</li>
<li>graphics.draw(); //绘制元素</li>
<li>graphics.endFill(); //完成填充</li>
<li>完成皮肤类</li>
</ul>
</li>
<li>在 CSS的SWF文件中创建自定义样式，使用 ClassReference()指令指定皮肤：<br>
	 .mySkin {<br>
	 	upSkin: ClassReference(‘skins.yourSkinClass’);<br>
	 }</li>
<li>在MXML标签或其它方式下，指定控件的样式为CSS中自定义的样式</li>
<li>保存，测试，运行……</li>
</ol>
</li>
</ul>
<h2 id="lesson-17-shi-yong-web-fu-wu">Lesson 17：使用Web服务</h2>
<ul>
<li>服务器通信名词
<ul>
<li>RPC：Remote Procedure Calls</li>
<li>CORBA：Common Object Request Broker Architecture</li>
<li>RMI：Remote Method Invocation   (java)</li>
<li>AMF：Action Message Format      (Flash)</li>
</ul>
</li>
<li>WebService 三种使用方式：
<ul>
<li>完整声明：使用 operation.request标签定义操作及参数；</li>
<li>声明方法：只用 operation 标签，不定义参数，使用 wsdl 自行验证参数；</li>
<li>不声明方法：查找 wsdl 自行验证方法和参数；</li>
</ul>
</li>
<li>可使用 WebService Introspection 向导导入根wsdl在web服务端的接口，实现自动生成代码；</li>
</ul>
<h2 id="lesson-18-fang-wen-fu-wu-qi-duan-dui-xiang">Lesson 18：访问服务器端对象</h2>
<ul>
<li>RemoteObject 与 WebService的区别：
<ul>
<li>RemoteObject ：AMFWebService：基于XML的SOAP</li>
<li>RemoteObject需要一个配置文件来确定远程服务的位置；</li>
<li>可用RemoteObject将已定义的类映射到服务器上相同定义的类；</li>
</ul>
</li>
<li>RemoteObject配置文件
<ul>
<li>技术适配器(adapters)：设置采用何种技术，id，class……</li>
<li>通道：chanel-definition</li>
<li>目的地句柄：destination</li>
</ul>
</li>
<li>更新Flex编译命令services_config.xml ：如果最终server位于不同开发环境，最好创建单独的配置文件。</li>
</ul>
<h2 id="lesson-19-di-19-ke-ke-shi-hua-shu-ju">Lesson 19：第19课 可视化数据</h2>
<ul>
<li>二维图：条状，柱状，饼状……</li>
<li>Flex3 图标特性：
<ul>
<li>能够在图表与其他组件之间拖放数据；</li>
<li>填充颜色的灵活性高；</li>
<li>改进项目标签和数轴呈现器，可在自定义图表中使用更多的控制。</li>
</ul>
</li>
<li>图表类型：
<ul>
<li>Area</li>
<li>Bar</li>
<li>Bubble</li>
<li>CandleStick</li>
<li>Column</li>
<li>HighLowOpenClose</li>
<li>Line</li>
<li>Plot</li>
</ul>
</li>
<li>定义格式</li>
<li>添加图例<br>
	<legend dataprovider="LineChartId"></legend></li>
<li>添加图表交互</li>
<li>鼠标经过事件</li>
<li>单击事件</li>
<li>选中事件</li>
<li>添加动画</li>
<li>SeriesInterpolate</li>
<li>SeriesSlide</li>
<li>SeriesZoom</li>
</ul>
<h2 id="lesson-20-di-20-ke-chuang-jian-mo-kuai-hua-de-cheng-xu">Lesson 20：第20课 创建模块化的程序</h2>
<ul>
<li>Flex3模块化程序，可以在运行时加载/卸载模块；</li>
<li>RSL(Runtime Shared Libraries) 运行时加载库，使用RSL可以减少多个程序的总大小而不是单个程序(*.swf)的大小；</li>
<li>Flash 程序编译流程：MXML，AS源代码    ---- flex编译器 ----&gt; 字节码   ----  链接器(link)  ----&gt;  可执行文件(swf)</li>
<li>使用Flex框架RSL方法：Flash Buidler 菜单 —&gt; 工程  —&gt;  Flex  Build Path  —&gt;  “Library Path”标签  —&gt;  “Framework linkage”选择“RSL”</li>
<li>创建库项目</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2011/07/flex3-tfs-notes-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2011/07/flex3-tfs-notes-02/" class="post-title-link" itemprop="url">《Flex3权威指南》学习笔记 02</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2011-07-05 22:28:42" itemprop="dateCreated datePublished" datetime="2011-07-05T22:28:42+08:00">2011-07-05</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="lesson-9-shi-yong-zi-ding-yi-shi-jian">Lesson 9：使用自定义事件</h2>
<ul>
<li>松耦合架构：可以使用自定义事件，将更改通知其他组件，不要求组件知道应用程序其余部分的信息；</li>
<li>View 通过 事件 与 Controller 建立联系；</li>
<li>无论何时触发事件，Flash Player 都会发布事件。事件流描述了事件对象在应用程序中传递的过程，当事件被触发时，事件对象穿过层层容器，在根应用程序与负责事件处理的组件之间往返传递；</li>
<li>Flex事件冒泡过程：
<ul>
<li>捕获期：事件发出后，按照容器由外到内找到事件的目标，即与用户交互的目标组件；</li>
<li>目标期：调用事件目标对象的事件处理函数；</li>
<li>冒泡期：由内向外发送事件，检查其他监听器，重复上述步骤2；</li>
</ul>
</li>
<li>Event 类所有实例都具有 bubbles * 属性，用来指定事件对象是否会参与事件流的冒泡期。如果事件的bubbles属性为true，则发布事件的组件，其每一层父容器都能够捕获事件。若为false，则只有事件源可以捕获。缺省值为false；</li>
</ul>
<h2 id="lesson-10-yong-action-script-3-0-chuang-jian-zi-ding-yi-zu-jian">Lesson 10：用ActionScript 3.0创建自定义组件</h2>
<ul>
<li>在MXML中创建组件，可以使用 MXML标签向组件添加元素，而在 ActionScript 中则需要重写(override) createChildren() 方法。Flex组件在初始化中，会调用 createChildren()* 。其调用顺序为：
<ul>
<li>构造函数( Constructor );</li>
<li>createChildren();       //需要重写</li>
<li>commitProperties();</li>
<li>measure();</li>
<li>updateDisplayList(); //需要重写</li>
</ul>
</li>
<li>Flex容器：
<ul>
<li>布局区域：绘制子元素的地方；</li>
<li>边饰部分：
<ul>
<li>边框</li>
<li>背景</li>
<li>滚动条</li>
<li>页边距</li>
<li>标题</li>
<li>脚注</li>
<li>……</li>
</ul>
</li>
</ul>
</li>
<li>measure()：计算组件的默认大小和（可选）默认最小大小；</li>
<li>updateDisplayList()：通过设置此容器子项的位置和大小来响应大小更改；</li>
<li>getExplicitOrMeasuredHeight()：确定是使用显式高度还是测量高度的一种简便方法；</li>
<li>getExplicitOrMeasuredWidth()：确定是使用显式宽度还是测量宽度的一种简便方法；</li>
<li>setActualSize()：设置此对象的实际大小。</li>
<li>控件的描述及功能介绍，多用用toolTip属性；</li>
</ul>
<h2 id="lesson-11-shi-yong-data-grid-yu-xiang-mu-cheng-xian-qi">Lesson 11：使用DataGrid与项目呈现器</h2>
<ul>
<li>DataGrid：能为用户与数据交互提供最多的选项，但也会带来额外的开销；</li>
<li>Flex 表示月份时， 0 代表一月，11代表12月。Date(2010,3,1) 即初始化为 “2010年4月1日”；</li>
<li>DataGrid 默认支持数据排序；</li>
<li>可使用 set/get 函数 设置/获取对象属性值，在函数中亦可作其它相关的操作，保证组件数据的及时更新。getter/setter不能太复杂，否则可能无效；</li>
<li>AdvancedDataGrid 属性：
<ul>
<li>sortExpertMode：默认情况下，sortExpertMode 属性设置为 false，这意味着在某列的标题区域单击，将按该列对 AdvancedDataGrid 控件的行进行排序；</li>
<li>styleFunction：呈现每个单元格时调用的回调函数；</li>
</ul>
</li>
<li>要掌握使用renderer呈现器在DataGrid中的使用；</li>
</ul>
<h2 id="lesson-12-shi-yong-tuo-fang">Lesson 12：使用拖放</h2>
<ul>
<li>概念
<ul>
<li>拖拽初始器：(源控件) –&gt; dragEnabled；</li>
<li>拖拽代理：(拖拽过程中紧随指针显示的内容);</li>
<li>释放目标：(目标控件) –&gt; dropEnabled；</li>
<li>拖拽源：(拖拽数据；</li>
</ul>
</li>
<li>非增强型组件上的隐藏拖放机制：
<ol>
<li>把数据赋值给 DragSource对象（DragSource.addData()）；</li>
<li>检查格式是否允许把数据放在释放目标上（DragSource.hasFormat()）;</li>
<li>在释放目标里使用数据（DragSource.dataForFormat()）;</li>
<li>允许拖拽组件（DragManager.doDrag()）;</li>
<li>接受释放（DragManager.acceptDragDrop()）;</li>
</ol>
</li>
<li>事件处理：
<ul>
<li>drag初始器：
<ul>
<li>mouseDown ===&gt; 步骤1，步骤4；</li>
</ul>
</li>
<li>目标控件：
<ul>
<li>dragEnter ===&gt; 步骤2，步骤5；</li>
<li>dragDrop ===&gt; 步骤3；</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="lesson-13-shi-xian-dao-hang">Lesson 13：实现导航</h2>
<ul>
<li>导航控件
<ul>
<li>ViewStack：一组彼此上下堆叠的子容器组成，其中一次只可以显示一个子容器。
<ul>
<li>selectedIndex：当前可见子容器的从零开始的索引。子索引的范围是 0、1、2、…、n - 1，其中 n 是子项的数目。默认值是 0，对应于第一个子项。如果不存在子容器，则此属性的值为 -1。<br>
注意：当您将一个新的子容器添加到 ViewStack 容器时，selectedIndex 属性将根据需要自动调整，以使所选子容器仍处于选中状态。</li>
<li>selectedChild：对当前可见子容器的引用。默认设置为对第一个子容器的引用。如果没有子项，则此属性为null。</li>
</ul>
</li>
<li>TabNavigator：可以包含 TabBar 容器用于在其子容器间导航，进而扩展 ViewStack 容器。</li>
</ul>
</li>
<li>使用 ViewStack 可以控制其内部子容器的显示。建议使用 selectedChild 属性选择子容器；</li>
</ul>
<h2 id="lesson-14-shi-yong-ge-shi-qi-he-yan-zheng-qi">Lesson 14：使用格式器和验证器</h2>
<ul>
<li>货币格式化：currencyFormatter；<br>
	formatter_id.format(…); //使用format()格式化</li>
<li>日期验证：DateValidator；</li>
<li>信用卡验证：CreditCardValidator属性：
<ul>
<li>cardNumberProperty：要验证的卡号码属性的名称；</li>
<li>cardNumberSource：包含卡号码字段的值的对象；</li>
<li>cardTypeProperty：要验证的卡类型属性的名称；</li>
<li>cardTypeSource：包含卡类型字段的值的对象；</li>
</ul>
</li>
<li>自定义验证器：
<ul>
<li>使用RegExp匹配：var pattern:RegExp = new RegExp();</li>
<li>语法：
<ul>
<li>.   ：任意字符；</li>
<li>\ ：转义，后接普通字符；</li>
<li>d  ：数字；</li>
<li>+  ：表示数量，匹配一个或多个；</li>
<li>\x20：一个空格；</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="lesson-15-shi-xian-li-shi-guan-li-he-shen-du-lian-jie">Lesson 15：实现历史管理和深度链接</h2>
<ul>
<li>历史管理：用户可以使用浏览器的前进/后退按钮导航程序。Flex所有导航容器支持历史管理(historyManagementEnabled)。Accordion,TabNavigator默认启用历史管理；</li>
<li>自定义实现历史管理：
<ol>
<li>实现 IHistoryManagerClient 接口的一个组件；</li>
<li>用 HistoryManager 类注册该组件；</li>
<li>实现 loadState();</li>
<li>实现 saveState();</li>
<li>实现 toString();</li>
<li>调用 HistoryManager 类的各种静态方法；</li>
</ol>
</li>
<li>深度链接的相关接口：
<ul>
<li>mx.managers.IBrowserManager;</li>
<li>mx.managers.BrowserManager;</li>
<li>mx.events.BrowserChangeEvent;</li>
<li>mx.utils.URLUtil;</li>
</ul>
</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://www.limbonova.com/2011/07/flex3-tfs-notes-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anthony">
      <meta itemprop="description" content="Carpe Diem">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Limbo-Nova">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2011/07/flex3-tfs-notes-01/" class="post-title-link" itemprop="url">《Flex3权威指南》学习笔记 01</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2011-07-04 22:03:38" itemprop="dateCreated datePublished" datetime="2011-07-04T22:03:38+08:00">2011-07-04</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>很久以前看的书，也是很久以前写的笔记。再回顾一遍，算是温故知新吧。</p>
</blockquote>
<h2 id="lesson-1-5-ji-chu-zhi-shi">Lesson 1-5：基础知识</h2>
<ol>
<li>Flex 并非从上到下创建组件，而可以看成是由内到外创建。只有应用程序的所有元素都已创建后，此时才是向外部资源请求并使用数据的适当时机；</li>
<li>直接在 ActionScript 中建立as类，可以创建自定义的事件类，建立值对象(value object)等；</li>
<li>as元标签(Metadata)：[Bindable] 被指定在 class 关键字前，表示该类的每一个属性都可以用来绑定，可以被绑定到空间或其它数据结构；</li>
<li>使用自定义类时，可以使用 import 关键字类导入需要的类，在Flash Builder中，一般会被自动导入；</li>
<li>所有MXML文件最终会被编译为一个 ActionScript 类，在创建 MXML 文件时必须遵守与创建 ActionScript 类时相同的约定；</li>
<li>ActionScript 中，uint 数据类型表示无符号整数，非负数；</li>
<li>使用 httpService返回数据的2种方法：
<ol>
<li>直接在绑定中使用数据；</li>
<li>使用 resultEvent事件处理函数；</li>
</ol>
</li>
<li>若要将数据填入空间或者过滤，排序等手段操作数据，应选择 ArrayCollection 数据结构；</li>
<li>支持 dataProvider 的控件有三个优点：
<ol>
<li>可将相同数据填入多个控件；</li>
<li>可在运行时断开dataProvider；</li>
<li>当修改 dataProvider 时，更改会反映到所有使用它的控件上；</li>
</ol>
</li>
</ol>
<h2 id="lesson-6-wei-kong-jian-shi-yong-yuan-cheng-xml-shu-ju">Lesson 6：为控件使用远程XML数据</h2>
<ol>
<li>
<p>RPC,HttpService调用过程：</p>
<ol>
<li>&lt;mx:Application  设置RPC &gt;；</li>
<li>&lt;mx:HttpService 设置结果处理函数dataHandler(event)&gt;；</li>
<li>&lt;mx: script &gt; dataHandler将获取的数据赋予变量或控件；</li>
</ol>
</li>
<li>
<p>XML结构：</p>
<ol>
<li>根节点包含多个节点；</li>
<li>节点有属性，也可包含多个子节点；</li>
<li>同样，子节点也有属性，也可包含多个子节点；</li>
</ol>
</li>
<li>
<p>E4X 具有非常强大的XML解析能力：</p>
<pre><code>	category.product.( @cost == “1.95”);//对属性进行谓词过滤(predicate filtering) 
	category.product.( unit == “bag”);//对子节点进行谓词过滤
	category..product;//对category下所有子节点过滤，返回所有product，不论其层级位置；
	//( .. )叫后代存取器 ( descendant accessor )
</code></pre>
</li>
<li>
<p>XMLListCollection 与 ArrayCollection 非常相似，但是 XMLListCollection 用于XML数据；</p>
</li>
<li>
<p>光标(cursor) 指向集合类的一个位置，允许直接访问集合中特定的任何一项。使用光标便于处理集合中的项；<br>
光标功能：</p>
<ol>
<li>可以向前/向后移动；</li>
<li>使用光标找到特定项；</li>
<li>在光标位置获取项；</li>
<li>在光标所在位置添加/移除项；<br>
其实和PL/SQL的游标，C++/java中的迭代器iterator差不多。</li>
</ol>
</li>
<li>
<p>任何实现了 ICursorView 接口的类都可以使用cursor；</p>
</li>
<li>
<p>若在 ArrayCollection 中使用 cursor，必须先排序；</p>
</li>
<li>
<p>使用 &lt;mx:…&gt; MXML标签，实际上使用了一个组件。Flex 可以被认为是一种基于组件的开发模型；</p>
</li>
</ol>
<h2 id="lesson-7-yong-mxml-chuang-jian-zu-jian">Lesson 7：用MXML创建组件</h2>
<ol>
<li>所有组件其实都是 ActionScript 类；</li>
<li>自定义组件可以：
<ol>
<li>向预定义的组件中添加功能；</li>
<li>将多个组件组合到一起；</li>
</ol>
</li>
<li>组件的优点：
<ol>
<li>让应用程序更易于编写，调试和维护；</li>
<li>使团队开发变得更容易；</li>
<li>能够实现整套可重用的代码。</li>
</ol>
</li>
<li>MVC 设计模式
<ul>
<li>Model：应用程序用到的数据；</li>
<li>View：用户界面；</li>
<li>Controller：对事件( 用户事件，系统事件… )响应并作相应的业务处理；</li>
</ul>
</li>
<li>MVC流程：
<ol>
<li>用户在 用户界面(View)交互；</li>
<li>Controller处理用户的输入事件；</li>
<li>Controller访问模型(Model)，获取/修改/删除数据；</li>
<li>使用模型(Model)将数据展现到View中；</li>
<li>View中更新数据，完成并返回到第1步；</li>
</ol>
<ul>
<li>数据管理器组件：集中数据请求，不必在不同应用程序中编写大量 httpSerivce请求；</li>
<li>UIComponent 是创建MXML组件时，可以使用的最轻量级的组件；</li>
<li>设计组件时，应尽量避免访问父类组件的函数，属性等，减少耦合；</li>
<li>重构：使用自定义组件重构应用程序，便于模块的开发和维护。</li>
</ul>
</li>
</ol>
<h2 id="lesson-8-shi-yong-kong-jian-he-repeater-kong-zhi-shu-ju-ji">Lesson 8：使用控件和Repeater控制数据集</h2>
<ol>
<li>HorizontalList, TileList 能以多种方式为数据集中的每个对象显示数据；</li>
<li>列表控件(ListBase)种类：
<ul>
<li>DataGrid</li>
<li>HorizontalList</li>
<li>List</li>
<li>ComboBox</li>
<li>TileList</li>
<li>Tree</li>
</ul>
</li>
<li>Repeater控件可以遍历数据集：
<ul>
<li>属性：<br>
currentItem：引用所有数据中当前正在处理的项；<br>
currentIndex：指定当前项在数据集中的位置，起始为0；</li>
<li>方法：<br>
getRepeaterItem：当Repeater组件完成重复以后，可以使用该方法决定数据处理函数要返回dataProvider属性的一项数据；</li>
</ul>
</li>
<li>TileList与Repeater的选择：
<ul>
<li>优先选择 TileList；</li>
<li>TileList在要显示组件时创建对象实例；</li>
<li>Tile + Repeater 则在整个数据集中创建所有对象实例；</li>
<li>应考虑数据集的大小及具体设计要求选择合适的控件；</li>
</ul>
</li>
</ol>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar.png"
      alt="Anthony">
  <p class="site-author-name" itemprop="name">Anthony</p>
  <div class="site-description" itemprop="description">Carpe Diem</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">55</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/anthonyhan" title="GitHub &rarr; https://github.com/anthonyhan" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://steamcommunity.com/profiles/76561198046420839" title="Steam &rarr; https://steamcommunity.com/profiles/76561198046420839" rel="noopener" target="_blank"><i class="fa fa-fw fa-steam"></i>Steam</a>
      </span>
    
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Anthony</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.0</div>

        












        
      </div>
    </footer>
  </div>

  


  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/pisces.js?v=7.4.0"></script>

<script src="/js/next-boot.js?v=7.4.0"></script>



  





















  

  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  

  


</body>
</html>
