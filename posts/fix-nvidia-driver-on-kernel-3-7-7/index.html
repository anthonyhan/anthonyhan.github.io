<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>3.7.7å†…æ ¸çš„nVidiaé©±åŠ¨å®‰è£… | LimboNova</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">3.7.7å†…æ ¸çš„nVidiaé©±åŠ¨å®‰è£…</span></h1>

<h2 class="date">2013/02/17</h2>
</div>

<main>
<p>æ›´æ–°3.7.7å†…æ ¸ä¹‹åï¼ŒnVidiaæ˜¾å¡é©±åŠ¨éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œä½†æ˜¯è¿™æ¬¡å’Œä»¥å‰ä¸ä¸€æ ·ï¼Œå®‰è£…æ—¶æŠ¥é”™å¯¼è‡´æ— æ³•ç»§ç»­ã€‚</p>
<h2 id="é—®é¢˜åˆ†æ">é—®é¢˜åˆ†æ</h2>
<p>æ ¹æ®æŠ¥é”™çš„ä¿¡æ¯ï¼Œå¯ä»¥æ‰“å¼€æ—¥å¿—æ–‡ä»¶æŸ¥çœ‹è¯¦ç»†çš„åŸå› ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    less /var/log/nvidia-installer.log</code></pre></div>
<p>æ—¥å¿—ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>-&gt; Kernel source path: &lsquo;/lib/modules/3.7.7-201.fc18.i686.PAE/source&rsquo;
-&gt; Kernel output path: &lsquo;/lib/modules/3.7.7-201.fc18.i686.PAE/build&rsquo;
ERROR: If you are using a Linux 2.4 kernel, please make sure
you either have configured kernel sources matching your
kernel or the correct set of kernel headers installed
on your system.</p>
<p>If you are using a Linux 2.6 kernel, please make sure
you have configured kernel sources matching your kernel
installed on your system. If you specified a separate
output directory using either the &ldquo;KBUILD_OUTPUT&rdquo; or
the &ldquo;O&rdquo; KBUILD parameter, make sure to specify this
directory with the SYSOUT environment variable or with
the equivalent nvidia-installer command line option.</p>
<p>Depending on where and how the kernel sources (or the
kernel headers) were installed, you may need to specify
their location with the SYSSRC environment variable or
the equivalent nvidia-installer command line option.
ERROR: Installation has failed. Please see the file
&lsquo;/var/log/nvidia-installer.log&rsquo; for details. You may find suggestions
on fixing installation problems in the README available on the Linux
driver download page at <a href="http://www.nvidia.com">www.nvidia.com</a>.</p>
</blockquote>
<p>å¤§æ¦‚åŸå› æ˜¯å®‰è£…è„šæœ¬æ— æ³•ç¡®è®¤ç³»ç»Ÿç‰ˆæœ¬ï¼Œå› è€Œæ²¡æœ‰æŒ‡å®šKBUILD_OUTPUTä¹‹ç±»çš„å‚æ•°ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h2>
<p>å› ä¸ºéœ€è¦å¯¹é©±åŠ¨çš„å®‰è£…è„šæœ¬ä½œä¿®æ”¹ï¼Œå› æ­¤éœ€è¦è§£å‹ç¼©å®‰è£…åŒ…
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    ./NVIDIA-Linux-x86-310.19.run -x</code></pre></div></p>
<p>ä¿®æ”¹æ–‡ä»¶ contest.sh</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    cd NVIDIA-Linux-x86-310.19/
    vi kernel/conftest.sh</code></pre></div>
<p>ä¿®æ”¹:1697è¡Œé™„è¿‘çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># kernel older than 2.6.6, that&#39;s all we require to</span>
<span style="color:#75715e"># build the module.</span>
<span style="color:#75715e">#</span>
VERSION<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>grep <span style="color:#e6db74">&#34;^VERSION =&#34;</span> $MAKEFILE | cut -d <span style="color:#e6db74">&#34; &#34;</span> -f 3<span style="color:#66d9ef">)</span>
PATCHLEVEL<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>grep <span style="color:#e6db74">&#34;^PATCHLEVEL =&#34;</span> $MAKEFILE | cut -d <span style="color:#e6db74">&#34; &#34;</span> -f 3<span style="color:#66d9ef">)</span>
SUBLEVEL<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>grep <span style="color:#e6db74">&#34;^SUBLEVEL =&#34;</span> $MAKEFILE | cut -d <span style="color:#e6db74">&#34; &#34;</span> -f 3<span style="color:#66d9ef">)</span>

<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -n <span style="color:#e6db74">&#34;</span>$VERSION<span style="color:#e6db74">&#34;</span> -a $VERSION -ge <span style="color:#ae81ff">3</span> <span style="color:#f92672">]</span> <span style="color:#f92672">||</span> 
   <span style="color:#f92672">[</span> -n <span style="color:#e6db74">&#34;</span>$PATCHLEVEL<span style="color:#e6db74">&#34;</span> -a $PATCHLEVEL -ge <span style="color:#ae81ff">6</span> 
		 -a -n <span style="color:#e6db74">&#34;</span>$SUBLEVEL<span style="color:#e6db74">&#34;</span> -a $SUBLEVEL -le <span style="color:#ae81ff">5</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
	 SELECTED_MAKEFILE<span style="color:#f92672">=</span>Makefile.kbuild
	 RET<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">fi</span></code></pre></div>
<p>ä¿®æ”¹:160è¡Œé™„è¿‘çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$ARCH<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;i386&#34;</span> -o <span style="color:#e6db74">&#34;</span>$ARCH<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;x86_64&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
  CFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$CFLAGS<span style="color:#e6db74"> -I</span>$SOURCES<span style="color:#e6db74">/arch/x86/include&#34;</span>
  CFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$CFLAGS<span style="color:#e6db74"> -I</span>$SOURCES<span style="color:#e6db74">/arch/x86/include/uapi&#34;</span>
  CFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$CFLAGS<span style="color:#e6db74"> -I</span>$OUTPUT<span style="color:#e6db74">/arch/x86/include/generated&#34;</span>
  CFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$CFLAGS<span style="color:#e6db74"> -I</span>$OUTPUT<span style="color:#e6db74">/arch/x86/include/generated/uapi&#34;</span></code></pre></div>
ä¿å­˜æ–‡ä»¶å¹¶è¿è¡Œå®‰è£…ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">	./nvidia-installer</code></pre></div>
<p>ç°åœ¨åº”è¯¥å¯ä»¥é€šè¿‡æ­£å¸¸å®‰è£…äº†ã€‚</p>
<hr>
<p>å‚è€ƒèµ„æ–™</p>
<ol>
<li><a href="https://bugs.archlinux.org/task/33827">https://bugs.archlinux.org/task/33827</a></li>
<li><a href="http://forums.fedoraforum.org/showthread.php?t=288869">http://forums.fedoraforum.org/showthread.php?t=288869</a></li>
<li><a href="http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/x11-drivers/nvidia-drivers/files/nvidia-drivers-313.18-linux-3.7%2B.patch?revision=1.1">http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/x11-drivers/nvidia-drivers/files/nvidia-drivers-313.18-linux-3.7%2B.patch?revision=1.1</a></li>
</ol>
</main>

<script src="https://utteranc.es/client.js"
        repo="anthonyhan/anthonyhan.github.io"
        issue-term="title"
        label="ğŸ’¬comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


<footer>
  
  
  <hr/>
  Â© 2005-2021 Anthony | <a href="https://github.com/anthonyhan">Github</a> | <a href="https://twitter.com/antonius_hq">Twitter</a>
  
  </footer>
  
  </body>
</html>

